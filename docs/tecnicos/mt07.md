---
hide:
    - toc
---

# MT07
## INTERFACES Y APLICACIONES
con Xavier - Fab Lab Barcelona.

En este módulo técnico nos introducimos en los principios de programación y electrónica aplicada a interfaces. Una *interfaz* implica la **conexión entre un sistema informático y los usuarios**. Es conectarse con un dispositivo o sistema y tener algun tipo de comunicación.

Los objetivos específicos de este módulo son:
- Interpretar e implementar protocolos de diseño y programación para crear una Interfaz Gráfica de Usuario (GUI).
- Programación de Interfaz sencilla.
- Asociar GUI con el mundo real (entradas, actuadores),
- Adquirir conocimientos prácticos para poder aplicar soluciones en situaciones reales.

La presentación del tema se realiza a través de la herramienta *miro* donde participamos en la elaboración de la pizarra de trabajo, respondiendo preguntas sobre el tema. 
comparto el miro: https://miro.com/app/board/uXjVKGRsnZ4=/ 

![](../images/MT07/1.png)



Entendiendo  a la interficie como lo que vemos y a interfaz como el acto de comunicarse un usuario con un sistema digital sea un sofware o hardware. Los usuarios sepueden comunicarse, recibir, controlar o visualizar información de un sistema.

Para diseñar y programar la interficie, necesitamos responer algunas preguntas claves: 




Una **RED** es un conjunto de ordenadores conectados entre si a través de LINEAS DE COMUNICACIÓN. 
Los **PROTOCOLOS** son un conjunto de NORMAS sobre formato de mensajes y procedimientos que permiten a máquinas y programas de aplicación intercambiar INFORMACIÓN.

**MQTT** es un protocolo que utiliza un modelo de publicación/ suscripción basado en eventos para poder enviar mensajes a los clientes. 

 ![](../images/MT06/1.JPG) 

 La comunicación pasa por un punto central llamado "broker", que se encarga de gestionar el envío de mensajes entre emisores y receptores. Cada cliente, al enviar un mensaje, lo hace incluyendo un *topic* en el mensaje. **Cada cliente que quiere recibir un mensaje se suscribe a un determinado topic del broker** y éste le envía los mensajes correspondientes.

 Broker es un servidos donde se puede publicar mensajes o subscribirte a un tópico.

  ![](../images/MT06/2.JPG)

## Desafío MT06
Siguiendo el ejercicio realizado en la clase con Jusep, descargué e INSTALÉ la placa ESP32. Para poder programarla es necesario instalarla en Arduino. 

![](../images/MT06/instalandoESP32a.JPG)

Video tutorial para instalarla: 
https://randomnerdtutorials.com/installing-the-esp32-board-in-arduino-ide-windows-instructions/

Copiar el link de la página (definiciones de distintas placas que vamos a poder controlar con Arduino) y lo pegamos en  file, preferences: 

![](../images/MT06/instalandoESP32b.JPG)

Segundo paso: Instalar estas placas en Arduino:

En "boards manager", busco ESP32 y elijo la segunda:

 ![](../images/MT06/instalandoESP32c.JPG)

 Luego de unos minutos se instalan todas las placas:

  ![](../images/MT06/instalandoESP32d.JPG)

  En "tools", "boards", elegimos la más básica: 

  ![](../images/MT06/instalandoESP32e.JPG)

Tercer paso: Instalar las Librerias:
busco "pubsubclient"

![](../images/MT06/instalandoESP32f.JPG)   

Estamos prontos para copiar el código del WOKWI del ejercicio y pegarlo en Arduino.  

![](../images/MT06/W1.JPG) 

Compilamos para verificar que el código no tenga errores, demora unos minutos. 

![](../images/MT06/instalandoESP32g.JPG) 

Entender el código:

Al principo dos librerias:

 "WiFi.h" me permite conectarme a wifi

 "PubSubClient.h" me permite conectarme a un servidor de mqtt.

 Definir la red y contraseña de wifi.
 Me conecto desde el celu. Busco la Red y la contraseña. 

![](../images/MT06/a1.JPG) 

 Definir nuestro nombre en mqtt:

 ![](../images/MT06/a2.JPG) 

 Vamos a leer el boton, si el botón está apretado voy a mandar "on" si el botón no está apretado voy a mandar "off", esperamos 1 segundo y volvemos a empezar.

 Error:

![](../images/MT06/error.JPG) 











 




















 











 

 